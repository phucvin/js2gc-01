Summary: Implemented refactoring, documentation, and automation improvements as per `improvements-01.md`.

# User Prompt
execute all in docs/improvements-01.md except for 2

also follow agents.md

# Agent Response
I have successfully completed the tasks outlined in `docs/improvements-01.md` (excluding section 2) and followed `AGENTS.md`.

**Changes:**

1.  **Refactoring `src/compiler`**:
    *   **Extracted Runtime Helpers**: Created `src/compiler/runtime.ts` to host runtime Wasm definitions (types, globals, helpers), cleaning up `src/compiler/index.ts`.
    *   **Modularized AST Compilation**: Refactored `src/compiler/expression.ts` by splitting logic into specialized modules under `src/compiler/expressions/` (`literal.ts`, `binary.ts`, `call.ts`, `function.ts`, `object.ts`, `identifier.ts`).

2.  **Automation and Scripts**:
    *   **Shared Utilities**: Created `scripts/utils.ts` to consolidate common logic (file finding, Binaryen processing, Wasm execution).
    *   **Refactored Scripts**: Updated `scripts/run_testdata.ts`, `scripts/run_benchmark.ts`, and `scripts/run_scratch_use_wat.ts` to use the shared utilities.
    *   **Linting and Formatting**: Added `eslint` (v9 config) and `prettier`. Added `lint` and `format` scripts to `package.json`.

3.  **Documentation**:
    *   **Architecture**: Created `docs/architecture.md` detailing the compilation pipeline, object model, and directory structure.
    *   **Developer Guide**: Created `CONTRIBUTING.md` with setup and development instructions.

4.  **Feature & Performance**:
    *   **Shared Runtime Module**: Implemented the strategy for a shared runtime module. Created `scripts/build_runtime.ts` which successfully builds a standalone `runtime/runtime.wasm` from `src/compiler/runtime.ts`.
    *   **CI/CD**: Added `.github/workflows/test.yml` for automated testing and linting on PRs.

**Verification**:
*   Ran `npm test` (executing 23 test cases in `testdata/`) -> **All Passed**.
*   Ran `npm run benchmark` -> **Success**.
*   Ran `npm run lint` -> **Clean**.
*   Built standalone runtime -> **Success**.

The codebase is now better organized, documented, and automated.
